import{v as E,n as A,j as e,b as g,r as o,a as i,T as B,F as p,_ as H,c as P,t as N,d as U,u as j,H as T,R as F,e as f,f as M,g as W,B as I}from"./vendor.2dfbb4fe.js";const $=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}};$();function D(d={}){const{immediate:a=!1,onNeedRefresh:l,onOfflineReady:u,onRegistered:t,onRegisterError:r}=d;let s,c;const m=async(n=!0)=>{n&&(s==null||s.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()})),c&&c.waiting&&await A(c.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){s=new E("/service-worker.js",{scope:"/",type:"classic"}),s.addEventListener("activated",n=>{n.isUpdate||u==null||u()});{const n=()=>{l==null||l()};s.addEventListener("waiting",n),s.addEventListener("externalwaiting",n)}s.register({immediate:a}).then(n=>{c=n,t==null||t(n)}).catch(n=>{r==null||r(n)})}return m}D();function q(){return e("div",{children:"Error"})}const _=g({peers:["https://gunrecoil1.herokuapp.com/gun","https://gunrecoil.herokuapp.com/gun"]});function z({gun:d}){const[a,l]=o.exports.useState(""),[u,t]=o.exports.useState(""),[r,s]=o.exports.useState(""),[c,m]=o.exports.useState(!1),[n,b]=o.exports.useState("");let x=[];const[S,w]=o.exports.useState(!1),R=()=>{P(`${window.origin}/${c}`)};o.exports.useEffect(()=>{_.get("redirect").map().on(async y=>{x.push(y.shortURL)})},[x]);function L(h){if(h.preventDefault(),x.includes(r))N.error(" It's already used!",{icon:"\u{1F6A8}",position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});else{const k=U("Aa0",10);SEA.encrypt(a,"supersecret").then(C=>{t(k),b(a);const v=r||k;m(v);const O={url:C,shortURL:v,urlViews:0};d.get("redirect").get(v).put(O),l(""),s(""),N.success("\u{1F984} Added the short url!",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),w(!0)})}}return i("div",{className:" max-w-2xl py-10    mt-5  md:mt-15 mx-auto",children:[i("div",{className:"  max-w-md mx-auto p-3 mb-3  rounded-lg text-center ",children:[i("p",{className:" text-4xl md:text-6xl",children:["\u{1F52B} Recoil",e("a",{href:"https://gun.eco",className:" hover:text-red-400 duration-300 underline text-red-300 ",children:"Gun"})]}),e("br",{}),i("p",{className:" text-lg  md:text-2xl",children:["A URL shortener that has zero limits"," "]})]}),e(B,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),S?e(p,{children:i("div",{className:" flex justify-between rounded-md relative bg-accent max-w-md mx-3 sm:mx-auto mb-5 p-5",children:[i("div",{children:[i("div",{className:"mb-3 text-neutral  relative",children:[e("div",{className:"text-2xl ",children:"SHORT URL:"}),e("div",{className:"text-lg",children:i("li",{children:[window.origin,"/",c]})})]}),e("button",{onClick:R,className:"btn btn-primary mr-2",children:"Copy"}),e("label",{for:"my-modal-2",class:"btn btn-primary modal-button      ",children:"QR Code"}),e("input",{type:"checkbox",id:"my-modal-2",class:"modal-toggle relative"}),e("div",{class:"modal",children:i("div",{class:"modal-box",children:[e(H,{className:"mx-auto rounded-md  ",value:`${window.origin}/${c}`}),e("div",{class:"modal-action",children:e("label",{for:"my-modal-2",class:"btn btn-circle btn-sm btn-ghost top-3 right-3 absolute",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-6 h-6 stroke-current",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})]}),e("button",{onClick:()=>w(!1),className:"btn btn-sm btn-circle btn-ghost ",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-6 h-6 stroke-current",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):i(p,{children:[" ",e("h1",{})]}),i("form",{className:"form-control mx-2 max-w-lg sm:mx-auto bg-base-300 p-5 rounded-md",onSubmit:L,children:[e("label",{class:"label",children:e("span",{class:"label-text   text-lg ",children:"Add any url: "})}),e("input",{className:"input input-accent input-bordered mb-5",value:a,required:!0,type:"url",placeholder:"https://example.com",onChange:h=>l(h.target.value)}),i("div",{className:" p-5 card bg-base-200",children:[e("p",{className:" text-lg"}),e("label",{class:"label",children:e("span",{class:"label-text",children:"Optional: "})}),e("input",{className:"input input-bordered mb-5",value:r,placeholder:"Custom short URL:",type:"text",onChange:h=>s(h.target.value)})]}),e("div",{class:"divider"}),e("button",{className:"btn btn-primary",type:"submit",children:"Recoiled"})]})]})}function G(){const[d,a]=o.exports.useState(!1),[l,u]=o.exports.useState(!0);o.exports.useState(0);const{id:t}=j();function r(){return e(p,{children:l?e(p,{}):e(p,{children:e("h2",{children:"BRUH"})})})}return o.exports.useEffect(()=>{g({peers:["https://gunrecoil1.herokuapp.com/gun","https://gunrecoil.herokuapp.com/gun"]}).get("redirect").get(t).once(function(c,m){c===void 0?u(!1):SEA.decrypt(c.url,"supersecret").then(n=>{a(n)})})},[]),e(p,{children:d?i(T,{children:[e("title",{children:"Redirecting..."}),e("meta",{"http-equiv":"refresh",content:`0; url = ${d}`})]}):e(p,{children:e(r,{})})})}function J(){return e("div",{})}function K(){o.exports.useState(0);const[d,a]=o.exports.useState({});return o.exports.useEffect(()=>{const l=g({peers:["https://gunrecoil1.herokuapp.com/gun","https://gunrecoil.herokuapp.com/gun"]});a(l)},[g]),e(p,{children:i(F,{children:[e(f,{exact:!0,path:"/",element:e(z,{gun:d})}),e(f,{path:"/:id",element:e(G,{})}),e(f,{path:"/d",element:e(J,{gun:d})}),e(f,{path:"*",element:e(q,{})})]})})}M.render(e(W.StrictMode,{children:e(I,{children:e(K,{})})}),document.getElementById("root"));
